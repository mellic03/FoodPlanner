<ion-content>

  <ion-grid *ngIf="logged_in == undefined; else else_block;">
    <ion-row style="flex: 100;"></ion-row>
    <ion-row>
      <ion-col>
        <ion-label>
          <b>Create a user</b>
        </ion-label>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>

        <ion-item class="top">
          <ion-label>Username</ion-label>
          <ion-input [(ngModel)]="new_username" placeholder="Username" clearInput="true"></ion-input>
        </ion-item>
        <ion-item class="middle">
          <ion-label>Password</ion-label>
          <ion-input [(ngModel)]="new_password" placeholder="Password" clearInput="true" type="password"></ion-input>
        </ion-item>
        <ion-item class="bottom">
          <ion-label>Password</ion-label>
          <ion-input [(ngModel)]="new_password_confirmation" placeholder="Confirm Password" clearInput="true" type="password"></ion-input>
        </ion-item>

      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        {{error_message}}
        <ion-button (click)="createUser(new_username, new_password, new_password_confirmation)">Create</ion-button>
        </ion-col>
    </ion-row>
    <ion-row style="flex: 100;"></ion-row>
  </ion-grid>

  <ng-template #else_block>
    <ion-grid>
      <ion-row style="flex: 100;"></ion-row>
      <ion-row>
        <ion-col>
          <ion-label>
            <b>Welcome</b>
          </ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-item class="top" >
            <ion-label>Username</ion-label>
            <ion-input [(ngModel)]="username"placeholder="Username" clearInput="true"></ion-input>
          </ion-item>
          <ion-item class="bottom">
            <ion-label>Password</ion-label>
            <ion-input [(ngModel)]="password" placeholder="Password" clearInput="true" type="password"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-button (click)="login(username, password)">LOGIN</ion-button>
        </ion-col>
      </ion-row>
      <ion-row style="flex: 100;"></ion-row>
    </ion-grid>
  </ng-template>
  
</ion-content>